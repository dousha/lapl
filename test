# The testing file
# This file contains the 'Standard' test of LAPL
# If anywhere went wrong in the code, e.g. stack overflow, it means
# THERE'S SOMETHING WRONG WITH THIS MATHERFAUQER

# Basic output
(print Hello form LAPL!)
(newline)
# Expects:
# Hello from LAPL!

# Basic arithmetic operations
(print (/ (* (+ 1 1) 3) 2))
(newline)
# Expects:
# 3.0

# Global variable definition and referring
(set! i 15)
(print (+1 i))
(newline)
# Expects:
# 16.0

# `let` operator shadowing
(let i 10 ((display i)))
(display i)
# Expects:
# 10.0
# 15.0

# Function definition and calling
(def (plus-two x) (+ x 2))
(print (plus-two 2))
(newline)
# Expects:
# 4.0

# Anonymous function (closure)
(def (f @x) (@x))
(print (f (+ 1 1)))
(newline)
# Expects
# 2.0

# Recursion
(def (factorial x) (if (= x 1) (ret 1) (* x (factorial (- x 1)))))
(print (factorial 5))
# Expects:
# 120.0